# 6-应用层

## KeyPoint
* 在互联网中有许多应用层协议并不是公开的。例如很多现有P2P文件共享系统使用的是专用应用层协议。
* 应用层协议与网络应用并不是同一概念。应用层协议只是网络应用的一部分。
* 应用层的许多协议都是基于客户服务器模式。即使是P2P对等通信，实质上也是一种特殊的客户服务器方式。
* 客户服务器方式所描述的是进程之间服务和被服务的关系。
* 根域名服务器采用了任播技术，任播的IP数据报的终点是一组在不同地点的主机，但具有相同的IP地址。IP数据包交付离源点最近的一台主机。
* 在大多数情况下，<font color=red>根域名服务器并不直接把待查询的域名直接转换成IP地址，而是告诉本地域名服务器下一步应该找哪个顶级域名服务器</font>
* 域名的解析过程：
  * 主机向本地域名服务器的查询一般都是<font color=blue>递归查询</font>。
  * 本地域名向根域名服务器的查询通常是<font color=blue>迭代查询</font>。
* 域名服务器广泛地使用了高速缓存。
* FTP提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限。屏蔽了各计算机系统的细节，因而适合在异构网络中任意计算机之间传送文件。
* 在进行文件传送时，FTP客户端和服务端之间要建立两个并行的TCP连接。
  * <font color=blue>控制连接</font>，在整个会话过程一直保持打开，用于传送请求。
  * <font color=blue>数据连接</font>，用于文件的传送，传送完毕后关闭。
  * FTP的控制信息是<font colot=red>带外(out of band)</font>传送。

## Q&A
* 应用层的具体作用是什么？
  * 给位于不同主机的多个应用程序之间的通信和协作定义通信规则。
* 为什么机器处理IP数据报要使用IP地址而不是使用域名？
  * 因为IP地址是定长，而域名不定长。
* 什么是递归查询？
  * 就是你问我，我不会的话就帮你问其他人，其他人不会也会帮我问，以此类推下去。
* 什么是迭代查询？
  * 就是我问老师，老师叫我问某个同学，某个同学不会的话，叫我问另一个同学。以此类推。
* 为什么两台主机之间传送文件会很困难？
  1. 计算机的存储格式不同
  2. 文件的目录结构和文件的命名的规定不同
  3. 对于相同的文件存取功能，操作系统使用的命令不同
  4. 访问控制方法不同
* 什么是带外传送？
  * 也叫加速数据，是一种设计成比普通数据有<font color=red>更高优先级</font>的数据。带外数据是<font color=red>映射</font>到现有的连接中的，而不是再创建一个连接。
* 为什么FTP常用端口21，但可以创建两条TCP连接，如何区分数据？
  * 当客户端向服务器发送建立请求连接时，寻找服务器进程的21端口，同时也告诉服务器进程自己另一个端口号码。
  * 接着服务器用自己传送数据的20端口与客户进程提供的端口号码建立数据连接。
  * 所以其实是有两组端口
* FTP和NFS有什么区别？各自应用的场景是什么？
  * 